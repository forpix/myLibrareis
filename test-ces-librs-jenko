@Library('github.com/cloudogu/ces-build-lib@bc4b83b')
import com.cloudogu.ces.cesbuildlib.*

node {
  Git git = new Git(this, 'cesmarvin')
  stage('Checkout') {
    git 'https://github.com/forpix/Demo_1.git'
     git.clean('".*/"')
    sh 'git checkout develop'
    println 'the commit id is'+ git.commitHashShort
    println 'the repo URL is'+ git.repositoryUrl
    println 'the repo name is'+ git.gitHubRepositoryName
    println 'the branch is'+ git.branchName
  }
  
  stage('comitting') {
    sh'git pull origin develop'
    git.add('.')
    git.commit('message', 'forpix', 'forpix321@gmail.com')
    git.commit('added from local')
    
  }
  
  stage ('push') {
    git.push('develop')
    }
   stage('checkingBranch') { 
    git.commitHashShort
  }
}
